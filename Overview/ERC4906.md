# ERC4906
Created: 2022-03
Description: An extension for ERC-721 that adds standard events to signal metadata updates, enabling marketplaces to automatically refresh token data.

## Core Concepts

### The Problem: Stale Metadata
Dynamic NFTs (e.g., game characters that level up, revealing art) change their metadata over time. Marketplaces and indexers cache this data. Without a standard signal, these platforms do not know when to re-fetch the data, leading to stale images or traits unless a user manually requests a refresh.

### The Solution: Update Events
ERC-4906 introduces standard events that contracts emit when metadata changes.
1.  Update: The contract emits an event specifying which token ID changed.
2.  Listen: Indexers (OpenSea, etc.) listen for this event.
3.  Refresh: The indexer automatically re-fetches the tokenURI for that ID and updates the display.

## Methods

### Events
```solidity
event MetadataUpdate(uint256 _tokenId);
event BatchMetadataUpdate(uint256 _fromTokenId, uint256 _toTokenId);
```
_tokenId: The ID of the token with updated metadata.
_fromTokenId: The starting ID of a range of tokens.
_toTokenId: The ending ID of a range of tokens.

## Implementation Details

### Emitting Updates
The events are emitted whenever the underlying data pointed to by tokenURI changes.
-   Single Update: Used for individual changes (e.g., a sword is equipped).
-   Batch Update: Used for mass changes (e.g., a collection reveal where all 10,000 tokens are revealed at once).

### Data Payload
The event does not contain the new metadata itself. It serves only as a "wake-up call" or "dirty flag" for off-chain indexers. This keeps gas costs low.


> ERC-721: No standard way to signal changes.  
ERC-4906: Standardized events for metadata synchronization.
